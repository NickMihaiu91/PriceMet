<!DOCTYPE html>
<html lang="en" ng-app="priceMetApp">
<head>
    <title>
        PriceMet
    </title>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- Bootstrap minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!--Font awesome-->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet" />
    <link href="css/sweetalert2.css" rel="stylesheet" />
    <link href="css/social-buttons.css" rel="stylesheet" />
    <link href="css/bootstrap-datepicker3.min.css" rel="stylesheet" />
    <link href="css/loaders.min.css" rel="stylesheet" />
    <link href="css/custom-select.css" rel="stylesheet" />
    <link href="css/header-input-button.css" rel="stylesheet" />

    <link href='http://fonts.googleapis.com/css?family=Oswald:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
</head>

<body>
    <header>
        <div class="navbar navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">
                        <img class="logo img-responsive" src="images/Price-Met_Transp-Background.png" />
                    </a>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a class="nav-log-in">Log in</a></li>
                        <li><a class="nav-sign-up">Sign up</a></li>
                        <li><a class="nav-contact-us">Get in touch</a></li>
                        <li><a class="nav-help">Need help?</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <section class="first-section">
        <div class="container">
            <div class="row title">
                <h2>Where would you like to eat?</h2>
            </div>
            <div class="row hidden-xs">
                <div class="col-md-4">
                    <span class="input-span">
                        <input class="input__field input__field--yoshiko" type="text" id="inputLocation" aria-describedby="inputLocationStatus" data-provide="typeahead" autocomplete="off" placeholder="">
                        <label class="input__label input__label--yoshiko" for="inputLocation">
                            <span class="input__label-content input__label-content--yoshiko" data-content="Your location">Your location</span>
                        </label>
                    </span>
                </div>
                <div class="col-md-4">
                    <select class="cs-select cs-skin-border" id="selectNoOfPersons">
                        <option value="" disabled selected>Number of persons</option>
                        <option value="1">It's just me - 1</option>
                        <option value="2">A couple - 2</option>
                        <option value="3">Lucky number - 3</option>
                        <option value="4">A pack - 4</option>
                        <option value="5">Give me five! - 5</option>
                        <option value="6">Six pack - 6</option>
                        <option value="7">Seven sins - 7</option>
                        <option value="8">Even number - 8</option>
                        <option value="9">Almost round - 9</option>
                        <option value="10">A crowd - 10</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <span class="input-span">
                        <input class="input__field input__field--yoshiko" type="number" min="1" id="inputBudget">
                        <label class="input__label input__label--yoshiko" for="inputBudget">
                            <span class="input__label-content input__label-content--yoshiko" data-content="Total budget">Total budget</span>
                        </label>
                    </span>
                </div>
            </div>
            <div class="visible-xs mobile-input-container" ng-controller="MobileInputCtrl">
                <div class="row">
                    <span class="input-span input-span-location" data-title="Location" ng-click="openModal('locationModalId')">
                        <input class="input__field input__field--yoshiko" type="text" id="selectLocation" ng-model="selectedCity" readonly>
                    </span>
                </div>
                <div class="row">
                    <span class="input-span" data-title="No of persons" ng-click="openModal('noOfPersonsModalId')">
                        <input class="input__field input__field--yoshiko" type="text" id="selectNoOfPersons" ng-model="selectedNoOfPersons" readonly>
                    </span>
                </div>
                <div class="row">
                    <span class="input-span" data-title="Total budget" ng-click="openModal('budgetModalId')">
                        <input class="input__field input__field--yoshiko" type="text" id="selectBudget" ng-model="selectedBudget" readonly addcurrency>
                    </span>
                </div>
                <select-modal list="canadaCitiesList" value="selectedCity" modalid="locationModal" modaltitle="Choose desired location"></select-modal>
                <select-modal list="noOfPersonList" value="selectedNoOfPersons" modalid="noOfPersonsModal" modaltitle="Choose no. of persons"></select-modal>
                <select-modal list="budgetList" value="selectedBudget" modalid="budgetModal" modaltitle="Choose total budget"></select-modal>
            </div>
            <div class="row">
                <button class="btn btn-primary btn-get-offers">
                    Get offers now!
                </button>
            </div>
        </div>
        <div class="collage-container hidden-xs">
            <div class="col-md-4">
                <div class="img first"></div>
            </div>
            <div class="col-md-4">
                <div class="img second"></div>
            </div>
            <div class="col-md-4">
                <div class="img third"></div>
            </div>
        </div>
    </section>

    <section class="third-section feedback-section">
        <div class="container">
            <h1 class="bold">Contact us at:</h1>
            <a class="email-adress" href="mailto:office@pricemet.ca"><h2>office@pricemet.ca</h2></a>
            <h2 class="bold">OR</h2>

            <form class="form-horizontal" onsubmit="return false">

                <div class="col-xs-10 col-xs-offset-1 col-sm-6 col-sm-offset-3">
                    <div class="form-group">
                        <div>
                            <textarea class="form-control" rows="3"
                                      placeholder="Send us your feedback here, we really apreciate it. Thank you!"></textarea>
                        </div>
                        <div class="error-message">
                            Please type your feedback
                        </div>
                    </div>
                </div>

                <div class="col-xs-10 col-xs-offset-1 col-sm-6 col-sm-offset-3">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">@</span>
                            <input type="email" class="form-control" id="inputContactEmail" aria-describedby="inputContactEmail"
                                   placeholder="Your email, don't worry, it's just for replying to your feedback.">
                        </div>
                        <div class="error-message">
                            Please type your email address so that we can contact you
                        </div>
                    </div>
                </div>
                <div class="col-xs-10 col-xs-offset-1 col-sm-6 col-sm-offset-3">
                    <div class="form-group">
                        <button class="btn-n send-feedback">Send!</button>
                    </div>
                </div>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="row link-container">
                <div class="col-md-3 col-md-offset-4 col-xs-5 col-xs-offset-1">
                    <h4>Company</h4>
                    <ul>
                        <li><a>About Us</a></li>
                        <li><a>Team</a></li>
                        <li><a>Blog</a></li>
                        <li><a>Terms & Privacy</a></li>
                    </ul>
                </div>
                <div class="col-md-3 col-xs-6">
                    <h4>Useful Info</h4>
                    <ul>
                        <li><a>Customer Support</a></li>
                        <li><a>Merchant Center</a></li>
                        <li><a>FAQ</a></li>
                        <li><a>Site Map</a></li>
                    </ul>
                </div>
            </div>

            <hr class="footer-divider" />

            <div class="row">
                <div class="social">
                    <h4>Join Us On</h4>
                    <ul>
                        <li><a href="https://www.facebook.com/pricemet.ca" target="_blank"><i class="fa fa-lg fa-facebook"></i></a></li>
                        <li><a href="#"><i class="fa fa-lg fa-twitter"></i></a></li>
                        <li><a href="#"><i class="fa fa-lg fa-google-plus"></i></a></li>
                        <li><a href="#"><i class="fa fa-lg fa-pinterest"></i></a></li>
                        <li><a href="#"><i class="fa fa-lg fa-instagram"></i></a></li>
                    </ul>
                    <p>© PriceMet, Inc.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <div class="modal fade" id="offerModal" ng-controller="OfferListCtrl">
        <div class="modal-dialog modal-lg">
            <div class="modal-content offers" ng-show="offersVisible">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">{{offerTypeText}} offers for {{noOfPersonsTextRepresentation}}</h4>
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <div class="row" ng-hide="showForm">
                            <div class="bid-looking" ng-hide="noOfOffers >= 1">
                                <div class="loader-inner line-scale-party">
                                    <div></div><div></div><div></div><div></div>
                                </div>
                                <span><b ticker="noOfMerchantsWatchingBid">{{noOfMerchantsWatchingBid}}</b> {{merchantType}} are looking now at your bid request</span>
                            </div>
                            <div ng-repeat="offer in offerList | limitTo:noOfOffers" ng-show="noOfOffers >= 1" class="fade-in offer-repeat">
                                <div ng-show="($index % 3 === 0) && ($index !== 0)" class="get-more-offers-btn-container">
                                    <button class="btn btn-primary get-more-offers" ng-click="getMoreOffers()">
                                        How long would you wait for deeper discounts?
                                    </button>
                                </div>
                                <div class="col-md-4 col-xs-12 offer-container" ng-class="$index % 3 === 0 ? 'first-column' : ''" id="{{'offer' + $index}}">
                                    <img class="img-responsive" ng-src="{{offer.imgUrl}}" />
                                    <h5 class="offer-title">{{ offer.bidOfferTitle }}</h5>

                                    <div class="price-container">
                                        <span class="tags">
                                            <span class="price-tag"><a href="javascript:void()">C${{offer.offerPrice}}</a></span>
                                        </span>
                                        <span class="price-strikethrough">C${{offer.originalPrice}}</span>

                                        <a class="btn btn-primary outline" target="_blank" ng-href="complete-order.html?id={{offer.id}}&n={{noOfPersons}}" ng-click="acceptBid(offer.id)">
                                            Accept bid
                                        </a>
                                    </div>
                                    <p class="distance"><i class="fa fa-map-marker fa-lg"></i>{{offer.distance}} kilometers from you</p>
                                </div>
                            </div>
                            <div class="col-md-4 col-md-xs-12 offer-container extra-card" ng-show="noOfOffers >= 1">
                                <div>
                                    More offers are
                                </div>
                                <div class="loading">
                                    coming soon
                                </div>
                            </div>
                        </div>
                        <div ng-show="showForm" class="more-offers-section">
                            <div class="date-view" ng-show="formStep === 1">
                                <div class="back-btn">
                                    <span ng-click="goBackToOffers()"><i class="fa fa-chevron-left"></i>Back to offers</span>
                                </div>
                                <h4>Please select the date until you would like to receive offers</h4>
                                <h5>(Merchants will see your request until this date and send you offers)</h5>
                                <div id="datepicker"></div>
                                <div ng-show="showError"><p class="text-danger">Please select a date from the calendar above.</p></div>
                                <div class="date-until">You will receive offers until: <span>{{dateUntil}}</span></div>
                                <button class="btn btn-primary" ng-click="setDate()">Set date!</button>
                            </div>
                            <div class="email-view" ng-show="formStep === 2">
                                <div class="back-btn">
                                    <span ng-click="goBackToOffers()"><i class="fa fa-chevron-left"></i>Back to offers</span>
                                </div>
                                <div>Please enter your email address where you will receive the offers for your request</div>
                                <input type="email" placeholder="Email address" ng-model="email" />
                                <div ng-show="showError"><p class="text-danger">Please enter a valid email address.</p></div>
                                <button class="btn btn-primary" ng-click="setEmail()">COOL!</button>
                            </div>
                            <div class="success-view" ng-show="formStep === 3">
                                <h2>Awesome!</h2>
                                <h5>More merchants will send their best offers soon. Don't forget to check your inbox!</h5>
                                <button class="btn btn-primary" ng-click="goBackToOffers()">Go back to current offers</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="row bid-looking" ng-show="noOfOffers >= 1">
                        <div class="loader-inner line-scale-party">
                            <div></div><div></div><div></div><div></div>
                        </div>
                        <span><b ticker="noOfMerchantsWatchingBid">{{noOfMerchantsWatchingBid}}</b> {{merchantType}} are looking now at your bid request</span>
                    </div>
                </div>
            </div>
            <div class="modal-content loading-offers" ng-hide="offersVisible">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-offset-1 col-md-10 col-xs-12">
                            <div class="logo-container">
                                <img class="img-responsive" src="images/Price-Met_Transp-Background.png" />
                            </div>
                            <div class="title">
                                <h2>We are now sending your request to {{merchantType}}!</h2>
                            </div>
                            <div class="col-md-offset-1 col-md-10" ng-hide="loadingBarProgress >= 100">
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" ng-style="progressBarStyle">
                                        <span class="sr-only">% Complete</span>
                                    </div>
                                </div>
                            </div>
                            <div class="view-offers-btn-container" ng-show="loadingBarProgress >= 100 && interactedWithEmailInputOnLoadingScreen">
                                <button class="btn btn-primary" ng-click="showOffers()">
                                    View the offers
                                </button>
                            </div>
                            <div class="offer-summary">
                                <h4>{{offerSummary}}</h4>
                            </div>
                        </div>
                    </div>

                    <div class="get-email hidden-xs">
                        <div class="header">
                            <h2>{{offerTypeText}} <span>Offer Alerts</span></h2>
                        </div>
                        <div class="second-line">
                            <h4>Get offers delivered right to your inbox</h4>
                        </div>
                        <div class="input-container" ng-hide="sentEmailAddress">
                            <input type="text" placeholder="Your email address" ng-model="emailOnLoadingScreen" ng-focus="focusOnEmail()" />
                            <button class="btn btn-primary" ng-click="sendEmail()">Get Me Offers</button>
                        </div>
                        <div class="email-error-msg-container" ng-show="showError">
                            <p class="text-danger">Please enter a valid email address.</p>
                        </div>
                        <div class="alert alert-success" role="alert" ng-show="sentEmailAddress">
                            <strong>Awesome!</strong> You'll receive the best offers in your email very soon.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/ng-template" id="/templates/select-modal-template.tpl">
        <div class="modal fade select-type-modal" ng-attr-id="{{ modalid }}">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4>{{ modaltitle }}</h4>
                    </div>
                    <div class="modal-body">
                        <ul class="list-group">
                            <li class="list-group-item" ng-repeat="option in list" ng-click="selectOption(option, $event)">
                                <i class="fa fa-lg fa-square-o"></i>{{ option | applyFilter: 'currency':"C$":0 }}
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- start Mixpanel -->
    <script type="text/javascript">
        (function (f, b) {
            if (!b.__SV) {
                var a, e, i, g; window.mixpanel = b; b._i = []; b.init = function (a, e, d) {
                    function f(b, h) { var a = h.split("."); 2 == a.length && (b = b[a[0]], h = a[1]); b[h] = function () { b.push([h].concat(Array.prototype.slice.call(arguments, 0))) } } var c = b; "undefined" !== typeof d ? c = b[d] = [] : d = "mixpanel"; c.people = c.people || []; c.toString = function (b) { var a = "mixpanel"; "mixpanel" !== d && (a += "." + d); b || (a += " (stub)"); return a }; c.people.toString = function () { return c.toString(1) + ".people (stub)" }; i = "disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
                    for (g = 0; g < i.length; g++) f(c, i[g]); b._i.push([a, e, d])
                }; b.__SV = 1.2; a = f.createElement("script"); a.type = "text/javascript"; a.async = !0; a.src = "undefined" !== typeof MIXPANEL_CUSTOM_LIB_URL ? MIXPANEL_CUSTOM_LIB_URL : "http://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js"; e = f.getElementsByTagName("script")[0]; e.parentNode.insertBefore(a, e)
            }
        })(document, window.mixpanel || []);
        mixpanel.init("46abe9239629fcc58fabb0b1dfccd15a");
    </script>
    <!-- end Mixpanel -->
    <!-- jQuery minified JavaScript -->
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

    <!-- Bootstrap minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script src="http://www.parsecdn.com/js/parse-1.4.0.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular-animate.min.js"></script>

    <!--Toastr-->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <link href="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" rel="stylesheet" />

    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places"></script>

    <script src="js/jquery.scrollintoview.min.js"></script>

    <!--<script src="js/calc.min.js"></script>-->

    <script src="js/sweetalert2.min.js"></script>

    <script src="js/bootstrap-datepicker.min.js"></script>

    <script src="js/jquery.appear.js"></script>

    <script src="js/index.js"></script>

    <script src="js/typeahead-data.js"></script>

    <script src="js/angular/angular-index.js"></script>

    <script src="js/angular/services/offers-service.js"></script>

    <script src="js/angular/services/merchants-looking-at-request-service.js"></script>

    <script src="js/angular/services/toastr-service.js"></script>

    <script src="js/select-fx.js"></script>

    <script src="js/classie.js"></script>

    <!--Google analytics-->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'http://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-65114946-1', 'auto');
        ga('send', 'pageview');
    </script>

    <!-- Hotjar Tracking Code for www.pricemet.ca -->
    <script>
        (function (h, o, t, j, a, r) {
            h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) };
            h._hjSettings = { hjid: 51990, hjsv: 5 };
            a = o.getElementsByTagName('head')[0];
            r = o.createElement('script'); r.async = 1;
            r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
            a.appendChild(r);
        })(window, document, '//static.hotjar.com/c/hotjar-', '.js?sv=');
    </script>

</body>
</html>
